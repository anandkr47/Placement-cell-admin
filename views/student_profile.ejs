<style>
  h2{
    text-align: center;
    color: #007bff;
  }
  p{
    text-align: center;
    color: #007bff;
  }
  label{
    color: #007bff;
  }
  .profile-section {
    background-color: #f8f8f8;
    padding: 40px;
  }

  .profile-details {
    margin-bottom: 20px;
  }

  .profile-details p {
    margin-bottom: 10px;
  }

  .profile-details strong {
    font-weight: bold;
  }

  .profile-details a {
    color: #007bff;
    text-decoration: none;
  }

  .btn-secondary {
    background-color: #6c757d;
    color: #ffffff;
    border-color: #6c757d;
  }

  .btn-secondary:hover {
    background-color: #5a6268;
    border-color: #5a6268;
  }
</style>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.3/dist/sweetalert2.min.css" />

<header>
  <nav class="navbar navbar-expand-lg" style="background-color: wheat">
    <div class="container-fluid">
      <a class="navbar-brand h1" href="#">
        <i class="fas fa-laptop-code"></i> Placement Cell
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-around" id="navbarSupportedContent">
        <ul class="nav text-purple">
          <li class="nav-item mx-2">
            <a class="nav-link text-purple" href="/student_dashboard/<%= student.email %>">Dashboard</a>
          </li>
          <li class="nav-item mx-2">
            <a class="nav-link" href="/student_profile/<%= student.email %>">Profile</a>
          </li>
          <li class="nav-item mx-2">
            <a class="nav-link" href="/student_interview/<%= student.email %>">My Interview</a>
          </li>
          <li class="nav-item mx-2">
            <a class="nav-link" href="/refer">Refer</a>
          </li>
          <li class="nav-item mx-2">
            <a class="nav-link" href="/job-portal">Job Portal</a>
          </li>
          <li class="nav-item mx-2">
            <a class="nav-link" href="https://online-compilerby-anand.netlify.app/">Code Here</a>
          </li>
        </ul>
        <h3><%= student.name %></h3>
      </div>
    </div>
  </nav>
</header>

<main>
  <% if (!profile) { %>
    <section class="profile-section">
        <div class="container">
          <div class="text-center">
            <h2>Create Your Profile</h2>
            <p>Complete your profile to enhance your placement opportunities.</p>
            
            <form action="/create_profile" method="POST" enctype="multipart/form-data">
              <input type="hidden" name="email" value="<%= student.email %>">
              <div class="form-group">
                <label for="about">About:</label>
                <textarea class="form-control" id="about" name="about" rows="4" required></textarea>
              </div>
              
              <div class="form-group">
                <label for="mobile">Mobile Number:</label>
                <input type="tel" class="form-control" id="mobile" name="mobile" placeholder="Enter your mobile number" required>
              </div>
              
              <div class="form-group">
                <label for="github">GitHub URL:</label>
                <input type="url" class="form-control" id="github" name="github" placeholder="Enter your GitHub URL" required>
              </div>
              
              <div class="form-group">
                <label for="linkedin">LinkedIn URL:</label>
                <input type="url" class="form-control" id="linkedin" name="linkedin" placeholder="Enter your LinkedIn URL" required>
              </div>
              
              <div class="form-group">
                <label for="hackerrank">HackerRank Profile:</label>
                <input type="url" class="form-control" id="hackerrank" name="hackerrank" placeholder="Enter your HackerRank profile URL" required>
              </div>
              
              <div class="form-group">
                <label for="leetcode">LeetCode Profile:</label>
                <input type="url" class="form-control" id="leetcode" name="leetcode" placeholder="Enter your LeetCode profile URL" required>
              </div>
              
              <div class="form-group">
                <label for="resume">Resume URL (Google Drive):</label>
                <input type="url" class="form-control" id="resume" name="resume" placeholder="Enter your resume URL from Google Drive" required>
              </div>
              
              <button type="submit" class="btn btn-primary">Submit</button>
            </form>
          </div>
        </div>
      </section>
      <% } else { %>
        <section class="profile-section">
          <div class="container">
            <div class="text-center">
              <h2>Your Profile</h2>
              <div class="profile-details">
                <p><strong>Name:</strong> <%= student.name %></p>
                <p><strong>Email:</strong> <%= student.email %></p>
                <p><strong>College:</strong> <%= student.college %></p>
                <hr>
                <p><strong>About:</strong> <%= profile.about %></p>
                <p><strong>Mobile Number:</strong> <%= profile.mobile %></p>
                <p><strong>GitHub URL:</strong> <a href="<%= profile.github %>" target="_blank" rel="noopener noreferrer">View Profile</a></p>
                <p><strong>LinkedIn URL:</strong> <a href="<%= profile.linkedin %>" target="_blank" rel="noopener noreferrer">View Profile</a></p>
                <p><strong>HackerRank Profile:</strong> <a href="<%= profile.hackerrank %>" target="_blank" rel="noopener noreferrer">View Profile</a></p>
                <p><strong>LeetCode Profile:</strong> <a href="<%= profile.leetcode %>" target="_blank" rel="noopener noreferrer">View Profile</a></p>
                <hr>
                <p><strong>Resume:</strong> <a href="<%= profile.resume%>" target="_blank" rel="noopener noreferrer">View Resume</a></p>
              </div>
              <a href="/edit_profile/<%= profile._id %>" class="btn btn-secondary">Edit Profile</a>
            </div>
          </div>
        </section>
      <% } %>
      
</main>
